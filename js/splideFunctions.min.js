function loadJSON(callback){var xobj=new XMLHttpRequest;xobj.overrideMimeType("application/json"),xobj.open("GET","captions.min.json",!0),xobj.onreadystatechange=function(){4==xobj.readyState&&"200"==xobj.status&&callback(xobj.responseText)},xobj.send(null)}function removeFileExtension(fileName){return fileName.substr(0,fileName.lastIndexOf("."))}var splide;function resetSplide(){sliderDiv.innerHTML="";let splideTrack=document.createElement("div"),splideList=document.createElement("ul"),header=document.createElement("h1");header.innerHTML="Swipe to see local fossils",sliderDiv.appendChild(header),sliderDiv.appendChild(splideTrack),splideTrack.appendChild(splideList),splideTrack.classList.add("splide__track"),splideList.classList.add("splide__list")}function formatCaptions(attachment){var attachmentName=removeFileExtension(attachment.name),taxonCaption=document.createElement("b"),ageCaption=document.createElement("p"),descriptionCaption=document.createElement("p"),catNumber=attachmentName.replace("_"," ").replace("-","."),catNumberCaption=document.createTextNode(` (${catNumber})`),captionsDiv=document.createElement("div");return loadJSON(json=>{var captionsJSON,attachmentRecord=JSON.parse(json)[attachmentName];taxonCaption.innerHTML=attachmentRecord.Taxon,ageCaption.innerHTML=attachmentRecord.Age,descriptionCaption.innerHTML=attachmentRecord.Description}),captionsDiv.append(taxonCaption,catNumberCaption,ageCaption,descriptionCaption),captionsDiv}function formatHTMLForSplide(attachment){var img=document.createElement("img"),li=document.createElement("li"),splideList=document.getElementsByClassName("splide__list")[0],captions=formatCaptions(attachment);li.classList.add("splide__slide"),li.classList.add(attachment.parentObjectId),img.src=attachment.url;var newSlide=splideList.appendChild(li),div=document.createElement("div");div.className="splide__slide--imageContainer",newSlide.appendChild(div).appendChild(img),newSlide.appendChild(captions)}function newSplide(){splide=new Splide(".splide",{lazyLoad:!0}).mount()}export{resetSplide,formatHTMLForSplide,newSplide,splide};